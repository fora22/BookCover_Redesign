<script>
    function show_books(data_json) {
        data_json = JSON.parse(data_json);

        // console.log($F().name);
        // console.log(data_json);

        let books = document.getElementById("books");
        books.innerHTML = "";

        const book_row_template = document.getElementById("book-row-template");
        const template = book_row_template.content;

        for (book_id in data_json) {
            const data = data_json[book_id];

            const name = data.name;
            const author = data.author;
            const translator = data.translator;
            const publisher = data.publisher;

            let date_publish = data.date_publish;
            const dates = date_publish.split("T")[0].split("-")
            date_publish = dates[0] + "년 " + dates[1] + "월 " + dates[2] + "일"

            const link = data.link;

            let tr = template.cloneNode(true);

            console.log(data.recover_front_link);
            let book_img = tr.querySelector(".book-image");
            book_img.src = data.recover_front_link;

            let book_name = tr.querySelector(".book-name");
            let book_author = tr.querySelector(".book-author");
            let book_translator = tr.querySelector(".book-translator");
            let book_publisher = tr.querySelector(".book-publisher");
            let book_date_publish = tr.querySelector(".book-date_publish");
            
            book_name.textContent = name;
            book_author.textContent = author;
            book_translator.textContent = translator;
            book_publisher.textContent = publisher;
            book_date_publish.textContent = date_publish;

            books.appendChild(tr);
        }
    }

</script>